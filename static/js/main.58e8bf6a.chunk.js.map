{"version":3,"sources":["layouts/Door/index.tsx","layouts/Door/styles.ts","services/history.ts","routes/PrivateRoute.tsx","layouts/Inside/styles.ts","layouts/Inside/index.tsx","routes/index.tsx","App.tsx","index.tsx"],"names":["Door","useState","canGetInside","setCanGetInside","handleGoingInside","a","axios","get","response","data","buff","Buffer","from","content","JSON","parse","toString","allowed","to","pathname","state","type","onClick","Container","styled","div","darken","history","createBrowserHistory","PrivateRoute","Component","component","privateRouteState","location","rest","render","Inside","Routes","path","App","autoClose","ReactDOM","StrictMode","document","getElementById"],"mappings":"6MAiCeA,IA5BQ,WAAO,IAAD,EACaC,oBAAS,GADtB,mBACpBC,EADoB,KACNC,EADM,KAErBC,EAAiB,uCAAG,gCAAAC,EAAA,sEACDC,IAAMC,IAAI,gFADT,OAClBC,EADkB,OAEhBC,EAASD,EAATC,KAEFC,EAAOC,EAAOC,KAAKH,EAAKI,QAAS,UAClBC,KAAKC,MAAML,EAAKM,SAAS,UAE7BC,SACfd,GAAgB,GARM,2CAAH,qDAWvB,OACE,kBAAC,IAAD,KACID,EACA,kBAAC,IAAD,CAAUgB,GAAI,CACZC,SAAU,UACVC,MAAO,CAAElB,mBAGT,KACJ,oCACA,4BAAQmB,KAAK,SAASC,QAAS,kBAAMlB,MAArC,iB,seCzBC,IAAMmB,EAAYC,IAAOC,IAAV,IAYAC,YAAO,OAAQ,a,qICXtBC,EAFCC,c,QCqBDC,EAfM,SAAC,GAII,IAHbC,EAGY,EAHvBC,UACmBC,EAEI,EAFvBC,SAAYb,MACTc,EACoB,wCACfhC,GAAiB8B,GAAqB,IAAtC9B,aAER,OACE,kBAAC,IAAD,iBACMgC,EADN,CAEEC,OAAQ,kBAAOjC,EAAe,kBAAC4B,EAAD,MAAgB,kBAAC,IAAD,CAAUZ,GAAG,e,kGChB1D,IAAMK,E,MAAYC,EAAOC,IAAV,KCUPW,EAPU,kBACvB,kBAACb,EAAD,KACE,sCACA,kBAAC,IAAD,CAAML,GAAG,SAAT,eCFW,SAASmB,IACtB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAaC,KAAK,QAAQP,UAAW/B,MACrC,kBAAC,EAAD,CAAcsC,KAAK,UAAUP,UAAWK,IACxC,kBAAC,IAAD,CAAUE,KAAK,IAAIpB,GAAG,WCL5B,IAUeqB,EAVM,WACnB,OACM,kBAAC,IAAD,CAAQZ,QAASA,GACf,kBAACU,EAAD,MACA,kBAAC,IAAD,CAAgBG,UAAW,QCNrCC,IAASN,OACP,kBAAC,IAAMO,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.58e8bf6a.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { Container } from './styles';\n\nconst Door: React.FC = () => {\n  const [canGetInside, setCanGetInside] = useState(false);\n  const handleGoingInside = async () => {\n    const response = await axios.get('https://api.github.com/repos/Lucas-Fonte/the-door/contents/src/response.json');\n    const { data } = response;\n\n    const buff = Buffer.from(data.content, 'base64');\n    const jsonResponse = JSON.parse(buff.toString('utf-8'));\n\n    if (jsonResponse.allowed) {\n      setCanGetInside(true);\n    }\n  };\n  return (\n    <Container>\n      { canGetInside ? (\n        <Redirect to={{\n          pathname: '/inside',\n          state: { canGetInside },\n        }}\n        />\n      ) : null}\n      <h1>Door</h1>\n      <button type=\"button\" onClick={() => handleGoingInside()}>Go inside</button>\n    </Container>\n  );\n};\n\nexport default Door;\n","import styled from 'styled-components';\nimport { darken } from 'polished';\n\nexport const Container = styled.div`\n    button {\n     margin: 5px 0 0;\n      height: 44px;\n      background: #ff5c5c;\n      font-weight: bold;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n      transition: background 0.2s;\n      &:hover {\n        background: ${darken('0.05', '#ff5c5c')};\n      }\n    }\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;","import React from 'react';\nimport {\n  Route, Redirect, RouteProps,\n} from 'react-router-dom';\n\ninterface PrivateRouteProps extends RouteProps {\n    component: React.FC;\n}\nconst PrivateRoute = ({\n  component: Component,\n  location: { state: privateRouteState },\n  ...rest\n}: PrivateRouteProps) => {\n  const { canGetInside } = privateRouteState || {};\n\n  return (\n    <Route\n      {...rest}\n      render={() => (canGetInside ? <Component /> : <Redirect to=\"/door\" />)}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  \n`;\n","import React from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { Container } from './styles';\n\nconst Inside: React.FC = () => (\n  <Container>\n    <h1>Inside</h1>\n    <Link to=\"/door\">Go inside</Link>\n  </Container>\n);\n\nexport default Inside;\n","import React from 'react';\nimport { Switch, Route as PublicRoute, Redirect } from 'react-router-dom';\nimport PrivateRoute from './PrivateRoute';\nimport Door from '../layouts/Door';\nimport Inside from '../layouts/Inside';\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <PublicRoute path=\"/door\" component={Door} />\n      <PrivateRoute path=\"/inside\" component={Inside} />\n      <Redirect path=\"*\" to=\"/door\" />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Router } from 'react-router-dom'\nimport history from './services/history';\nimport Routes from './routes';\n\nconst App:React.FC = () => {\n  return (\n        <Router history={history}>\n          <Routes/>\n          <ToastContainer autoClose={3000} />\n        </Router>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}